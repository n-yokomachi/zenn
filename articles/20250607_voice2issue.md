---
title: "è‡ªä½œã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«å–‹ã‚Šã‹ã‘ã‚‹ã ã‘ã§ã‚¢ãƒ—ãƒªé–‹ç™ºï½œMastraã¨Claude Code Actionã§éŸ³å£°ãƒã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°"
emoji: "ğŸ™ï¸"
type: "tech"
topics: [mastra,typescript,claude,github,vivecoding,]
published: false
---

ä»Šå›ã¯GitHub Actionsã®Claude Codeé€£æºã‚’è©¦ã—ã¾ã™ã€‚
ã¾ãŸã€éŸ³å£°å…¥åŠ›ã§Issueä½œæˆã¨ã‹ã§ãã‚Œã°ã€ä»Šä¸€ç•ªã‚¢ãƒ„ã„Claude Codeã§ã©ã“ã§ã‚‚ãƒ©ãƒ•ã«Vibe CodingãŒã§ãã‚‹ã‚“ã˜ã‚ƒãªã„ã‹ã¨æ€ã£ãŸã®ã§ã‚„ã£ã¦ã¿ã¾ã™ã€‚

# ç™ºç«¯
[Claude Codeã®å‹‰å¼·ä¼š](https://kddi-agile.connpass.com/event/357337/)ã§ã“ã‚“ãªã“ã¨ğŸ‘‡ã‚’è¨€ã£ãŸã®ã§ã€è¨€ã£ãŸã‚‰ã‚„ã‚‹ã®ç²¾ç¥ã§ã‚„ã‚Šã¾ã™ã€‚
https://x.com/_cityside/status/1930107043396104563

å®Ÿéš›ã¯GitHubã®MCPã‚µãƒ¼ãƒè¨­å®šã—ãŸClaude Desktopã«ã€ãªã‚“ã‹ã®ãƒ„ãƒ¼ãƒ«ã§éŸ³å£°å…¥åŠ›ã™ã‚‹ã ã‘ã§ã‚‚å®Ÿç¾ã§ãã‚‹ã¨æ€ã†ã®ã§ã™ãŒã€ä»¥å‰ã‹ã‚‰Mastraã‚’è§¦ã£ã¦ã¿ãŸã‹ã£ãŸã®ã§ã“ã®æ©Ÿä¼šã«è‡ªå‰ã§AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚
éŸ³å£°å…¥åŠ›ãƒ„ãƒ¼ãƒ«ã¯ã™ã§ã«LLMã‚’æ´»ç”¨ã—ãŸã¡ã‚ƒã‚“ã¨ã—ãŸã®ãŒã‚ã‚‹ã£ã½ã„ã®ã§æ°—ã«ãªã‚‹æ–¹ã¯ãã¡ã‚‰ã‚‚ãƒã‚§ãƒƒã‚¯ã€‚

# ã¾ãšã¯æˆæœç‰©ã‹ã‚‰

## ã‚¢ãƒ—ãƒªã¯ã“ã¡ã‚‰
å®Ÿéš›ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã“ã¡ã‚‰ã‹ã‚‰ä½¿ãˆã¾ã™ã€‚

https://voice2issue.vercel.app/
[![](https://storage.googleapis.com/zenn-user-upload/71c70a6713d6-20250608.png)](https://voice2issue.vercel.app/)

:::message
LLM(Anthropic)ã®æ–™é‡‘ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼å´ãŒè² æ‹…ã™ã‚‹è¨­è¨ˆã§ã™ã€‚
æ™®é€šã«å‹•ã‹ã™åˆ†ã«ã¯0.1USDã‚‚ã‹ã‹ã‚Šã¾ã›ã‚“ã€‚

ã¾ãŸã€ã‚¢ãƒ—ãƒªã®ä»•æ§˜ä¸Šã€GitHub Access Tokenã€Anthropic API Keyã®å…¥åŠ›ãŒå¿…è¦ã§ã™ã€‚
ãƒˆãƒ¼ã‚¯ãƒ³ã‚„ã‚­ãƒ¼ã¯é€ä¸€å…¥åŠ›ã™ã‚‹ã®ãŒé¢å€’ãªã®ã§ã€æš—å·åŒ–ã—ã¦SessionStorageã«å…¥ã‚Œã¦ã„ã¾ã™ã€‚ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãŒæ°—ã«ãªã‚‹æ–¹ã¯ä½¿ç”¨ã‚’ãŠæ§ãˆãã ã•ã„ã€‚

ãªãŠã€è¨­å®šã§ã€Œãƒ‡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ã€ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹ã¨ãƒˆãƒ¼ã‚¯ãƒ³ã‚„ã‚­ãƒ¼ã‚’å…¥åŠ›ã—ãªãã¦ã‚‚UIã®å‹•ä½œç¢ºèªã ã‘ã§ãã‚‹ã®ã§è‰¯ã‘ã‚Œã°ã‚„ã£ã¦ã¿ã¦ãã ã•ã„ã€‚
:::

## å‹•ç”»ã‚‚ã‚ã‚‹ã‚ˆ
ãƒ‡ãƒ¢å‹•ç”»ã‚’ä½œã£ãŸã®ã§å¤§ä½“ä½•ã‚„ã‚ã†ã¨ã—ã¦ã„ã‚‹ã®ã‹ãŒã‚ã‹ã‚‹ã‹ã¨
https://www.youtube.com/watch?v=3NxOoiMK664

ã‚¹ãƒãƒ›ã§ã‚‚
https://x.com/_cityside/status/1931388312843088120


# è¦ä»¶ãƒ»è¨­è¨ˆã®æ•´ç†
## è¦ä»¶æ•´ç†
ã¾ãšç°¡å˜ã«è¦ä»¶ã‚’æ•´ç†ã™ã‚‹ã¨ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚
- ã‚¢ãƒ—ãƒª
    - éŸ³å£°å…¥åŠ›ã‚’ãƒ†ã‚­ã‚¹ãƒˆã«å¤‰æ›ã™ã‚‹ï¼ˆSTTï¼‰
    - ãã®ã¾ã‚“ã¾ã®ãƒ†ã‚­ã‚¹ãƒˆã ã¨è©±ã—è¨€è‘‰ã™ãã‚‹ã®ã§ã€LLMã«ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ•ã’ã¦Issueã®åŸç¨¿ã‚’ä½œã£ã¦ã‚‚ã‚‰ã†
    - ä½œã£ã¦ã‚‚ã‚‰ã£ãŸåŸç¨¿ã§Issueã‚’ä½œæˆã™ã‚‹
    - ãªãŠã€LLMã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼è‡ªèº«ã®ã‚‚ã®ã‚’ä½¿ã†ã€‚
- GitHub
    - Issueã‚’æ¤œçŸ¥ã—ã¦Claude CodeãŒå®Ÿè£…ã™ã‚‹
    - Pull RequestãŒä½œæˆã•ã‚ŒãŸã‚‰ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦å®Ÿè£…çµæœã‚’ãƒã‚§ãƒƒã‚¯ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
ä¸»è¦ãªã‚‚ã®ã ã‘
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
    - Next.js 15.3.3
    - TypeScript 5
    - Tailwind CSS 4
    - Headless UI 2.2.4
- ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãƒ»ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
    - Mastra 0.10.3
    - Anthropic Claude SDK 0.53.0
- API
    - Octokit REST 22.0.0
    - Web Speech API
- ãƒ‡ãƒ—ãƒ­ã‚¤
    - Vercel
- ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
    - [Claude Code Actions](https://github.com/anthropics/claude-code-action)
    - å®Ÿè£…ã«ä½¿ã£ãŸã®ã¯Cursor(Claude Sonnet 4)

:::message
PCã§ã‚‚ã‚¹ãƒãƒ›ã§ã‚‚ä½¿ãˆã‚‹ã‚ˆã†ã«ã€æ‰‹ã£å–ã‚Šæ—©ãWebã‚¢ãƒ—ãƒªã§å®Ÿè£…ã—ã¾ã™ã€‚
éŸ³å£°å…¥åŠ›ã¯Web Speech APIã§ã®å®Ÿè£…ã¨ã—ã¾ã—ãŸãŒã€Mastraã«ã¯éŸ³å£°èªè­˜æ©Ÿèƒ½ã‚‚ã‚ã‚‹ã¿ãŸã„ã§ã™ã€‚
ãã£ã¡ã‚‚ä½¿ã£ã¦ã¿ãŸã‹ã£ãŸã‘ã©ã€ã‚¢ãƒ—ãƒªå´ã§LLMã®æ–™é‡‘è² æ‹…ã—ãŸããªã‹ã£ãŸã®ã§ä»Šå›ã¯è¦‹é€ã‚Šã€‚
:::


## ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³
ä»Šå›ã®ã‚·ãƒ¼ã‚±ãƒ³ã‚¹å›³ã€ã¤ã¾ã‚Šã“ã†ã„ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚

Webã‚¢ãƒ—ãƒªã«ã‚ˆã‚‹Issueä½œæˆã¨ã€Claude Codeã«ã‚ˆã‚‹å®Ÿè£…ã¯éåŒæœŸã«ãªã‚Šã¾ã™ã€‚
Issueæ¡ˆä½œæˆLLMã¯ãªã‚“ã§ã‚‚ã‚ˆã‹ã£ãŸã‚“ã§ã™ãŒã€èª²é‡‘å…ˆã‚’çµ±ä¸€ã—ãŸã‹ã£ãŸã®ã§Claudeä¸€æœ¬ã«çµã£ã¦ã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/7105ab6e2fca-20250607.png)


# å®Ÿè£…ã™ã‚‹

## Webã‚¢ãƒ—ãƒªã®å®Ÿè£…
ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã“ã¡ã‚‰
https://github.com/n-yokomachi/voice2issue

ä»¥ä¸‹ã®ä¸»è¦ãªéƒ¨åˆ†ã ã‘ç°¡å˜ãªèª¬æ˜ã‚’æ›¸ãã¾ã™ã€‚
    - éŸ³å£°å…¥åŠ›
    - Mastra Workflow
    - GitHub APIã§ã®Issueä½œæˆ

### éŸ³å£°å…¥åŠ›éƒ¨åˆ†

éŸ³å£°å…¥åŠ›ã¯[Web Speech API](https://developer.mozilla.org/ja/docs/Web/API/Web_Speech_API)ã‚’ä½¿ã£ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã®éŸ³å£°èªè­˜æ©Ÿèƒ½ã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚

åˆæœŸåŒ–éƒ¨åˆ†
```typescript: VoiceInput.tsx
const SpeechRecognition = window.webkitSpeechRecognition || window.SpeechRecognition;
const recognition = new SpeechRecognition();

recognition.lang = 'ja-JP';
recognition.continuous = true;      // é€£ç¶šèªè­˜
recognition.interimResults = true;  // ä¸­é–“çµæœã‚‚å–å¾—
recognition.maxAlternatives = 1;
```

èªè­˜çµæœå–å¾—éƒ¨åˆ†
```typescript: VoiceInput.tsx
recognition.onresult = (event) => {
  for (let i = event.resultIndex; i < event.results.length; i++) {
    const transcriptText = event.results[i][0].transcript;
    if (event.results[i].isFinal) {
      sessionFinalTranscript += transcriptText;
    } else {
      sessionInterimTranscript += transcriptText;
    }
  }
};
```


### Mastra Workflow

[Mastra](https://mastra.ai/)ã¯AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚„ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®TypeScriptå‘ã‘ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚
Next.jsã¯ã‚‚ã¡ã‚ã‚“ä»–ã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ã‚µãƒãƒ¼ãƒˆã‚‚ã‚ã‚Šã¾ã™ã—ã€ãƒ¡ãƒ¢ãƒªã‚„RAGã€MCPãªã©ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé–‹ç™ºã«å¿…è¦ãªæ©Ÿèƒ½ãŒç››ã‚Šè¾¼ã¾ã‚Œã¦ã„ã¾ã™ã€‚

ä»Šå›ã¯Mastraã®Workflowã‚’ä½œæˆã—ã¦ã„ã¾ã™ã€‚
å¤§ã—ã¦ã‚¹ãƒ†ãƒƒãƒ—ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€LLMã§Issueæ¡ˆä½œæˆâ†’GitHub APIå®Ÿè¡Œã€ã£ã¦ã„ã†é †ç•ªã¯ã‚ã‚‹ã®ã§Workflowã ã¨é–‹ç™ºã—ã‚„ã™ã„ã‹ãªã¨æ€ã£ãŸãŸã‚ã§ã™ã€‚
ã¾ãŸã€ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ãƒªãƒ¢ãƒ¼ãƒˆMCPã‚µãƒ¼ãƒã‚’çµ±åˆã§ãã‚Œã°GitHubã®æ“ä½œã‚‚LLMã«æŠ•ã’ã‚‰ã‚Œã‚‹ã˜ã‚ƒã‚“ã€ã¨æ€ã£ãŸã‚‚ã®ã®ã€GitHubã®MCPã‚µãƒ¼ãƒã¯Dockerã‚’ä½¿ã£ãŸã‚Šã¨ã¡ã‚‡ã£ã¨ç™–ãŒã‚ã‚Šãã†ã§æ–­å¿µã—ã¾ã—ãŸï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ã‹ã™åˆ†ãªã‚‰å…¨ç„¶å•é¡Œãªã„ã‘ã©ã€è‡ªå‰ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«çµ±åˆã—ã¦ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°ã‚µãƒ¼ãƒ“ã‚¹ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã®ã‚’è€ƒãˆã‚‹ã¨ã©ã†ã™ã‚Œã°ã„ã„ã®ã‹ã‚ã‹ã‚‰ãªã‹ã£ãŸï¼‰

ã¨ã„ã†ã‚ã‘ã§ã‚³ãƒ¼ãƒ‰ã®è©±ã§ã™ãŒã€

ã¾ãšMastraã®åˆæœŸåŒ–ã¯ã“ã‚“ãªæ„Ÿã˜ã€‚
```typescript: mastra/index.ts
export const mastra = new Mastra({
  agents: {}, 
  workflows: { voiceToIssueWorkflow },
  storage: new LibSQLStore({
    url: ":memory:",
  }),
});
```

éŸ³å£°å…¥åŠ›çµæœã‚’åˆ†æã—ã¦Issueã®æ¡ˆã‚’è€ƒãˆã‚‹ã‚¹ãƒ†ãƒƒãƒ—ã¯ä»¥ä¸‹ã®éƒ¨åˆ†
```typescript: issueWorkflow.ts
const analyzeVoiceInput = createStep({
  id: "analyze-voice-input",
  execute: async ({ inputData }) => {
    const anthropic = new Anthropic({
      apiKey: inputData.anthropicApiKey,
    });

    const prompt = `
        éŸ³å£°å…¥åŠ›: "${inputData.voiceInput}"
        éŸ³å£°å…¥åŠ›å†…å®¹ã‚’åˆ†æã—ã¦ã€GitHub Issueã®æƒ…å ±ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚
        // ... ï¼ˆä¸­ç•¥ï¼‰
        `;
    
    const result = await anthropic.messages.create({
      model: 'claude-3-5-sonnet-20241022',
      max_tokens: 1000,
      messages: [{ role: "user", content: prompt }]
    });
  },
});
```

ã§ãã®åˆ†æçµæœã‚’ä½¿ã£ã¦GitHub Issueã‚’ä½œæˆã™ã‚‹ã‚¹ãƒ†ãƒƒãƒ—ã¯ã“ã†
```typescript: issueWorkflow.ts
const createGitHubIssue = createStep({
  id: "create-github-issue",
  execute: async ({ inputData }) => {
    const octokit = new Octokit({ auth: token });

    const fullBody = `
        ${inputData.body}
        ---

        @claude
        ã“ã®Issueã®å®Ÿè£…ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚
        å®Ÿè£…ã‚¿ã‚¹ã‚¯ã‚’åˆ†å‰²ã—ã€ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã§å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚

        ---
        *ã“ã®ä¾é ¼ã¯ Voice2Issue ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦è‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã—ãŸ*`;

    const issueResponse = await octokit.rest.issues.create({
      owner,
      repo,
      title: inputData.title,
      body: fullBody,
      labels: allLabels,
    });
  },
});
```

ä¸Šè¨˜ï¼’ã¤ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’Workflowã¨ã—ã¦ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã—ã¾ã™ã€‚
```typescript: issueWorkflow.ts
export const voiceToIssueWorkflow = createWorkflow({
  id: "voice-to-issue",
  // ã‚¹ã‚­ãƒ¼ãƒå®šç¾©...
})
  .then(analyzeVoiceInput)  // éŸ³å£°èªè­˜ã‚¹ãƒ†ãƒƒãƒ—
  .then(createGitHubIssue); // GitHub Issueä½œæˆã‚¹ãƒ†ãƒƒãƒ—
```

ã§ã€ä½œã£ãŸWorkflowã¯APIçµŒç”±ã§å‘¼ã³å‡ºã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
â€»ä¸‹è¨˜ãƒªãƒ³ã‚¯ã¯æ—¥æœ¬èªã ã¨è¡¨ç¤ºãŒä¸ååˆ†ã®å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™
https://mastra.ai/en/docs/frameworks/next-js#create-test-api-route


``` typescript: src/app/api/mastra/workflow/route.ts
import { NextRequest, NextResponse } from "next/server";
import { mastra } from "../../../../../mastra";

export async function POST(request: NextRequest) {
  try {
    // (ä¸­ç•¥)
    
    // Mastraãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œ
    let result;
    try {
      const workflow = mastra.getWorkflow("voiceToIssueWorkflow");
      
      // Mastraãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®å®Ÿè¡Œ - createRun()ã‹ã‚‰start()ã‚’ä½¿ç”¨
      const run = workflow.createRun();
      result = await run.start({
        inputData: {
          voiceInput,
          repository,
          githubToken,
          anthropicApiKey,
        }
      });
      
      // Mastraãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼çµæœã®æ§‹é€ ã«åˆã‚ã›ã¦å‡¦ç†
      if (result.status === 'success' && result.result) {
        return NextResponse.json({});
      } else {
        throw new Error(`Workflow execution failed with status: ${result.status}`);
      }
      
    } catch (workflowError) {
      //
    }
  } catch (error) {
    //
  }
} 
```

### GitHub APIã§ã®Issueä½œæˆ

Issueã®ä½œæˆã¯Octokitãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚

ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®åˆæœŸåŒ–éƒ¨åˆ†
```typescript: issueWorkflow.ts
const token = inputData.githubToken;
const octokit = new Octokit({ auth: token });
```

Issueæœ¬æ–‡ã®å®šç¾©éƒ¨åˆ†
`inputData.body`ã«ã¯LLMã«ç”Ÿæˆã—ã¦ã‚‚ã‚‰ã£ãŸæ•´ç†ã•ã‚ŒãŸè¦ä»¶ãŒå…¥ã‚Šã¾ã™ã€‚
@claudeã‚’Issueã®æœ¬æ–‡ã«å…¥ã‚Œã‚‹ã“ã¨ã§Claude Codeã®å®Ÿè¡Œã‚’ãƒ•ãƒƒã‚¯ã—ã¾ã™
```typescript: issueWorkflow.ts
const fullBody = `${inputData.body}

---

@claude
ã“ã®Issueã®å®Ÿè£…ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚
å®Ÿè£…ã‚¿ã‚¹ã‚¯ã‚’åˆ†å‰²ã—ã€ã‚¹ãƒ†ãƒƒãƒ—ãƒã‚¤ã‚¹ãƒ†ãƒƒãƒ—ã§å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚
ãªãŠã€Issueã¸ã®ã‚³ãƒ¡ãƒ³ãƒˆã¯æ—¥æœ¬èªã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„ã€‚

---
*ã“ã®ä¾é ¼ã¯ Voice2Issue ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚ˆã£ã¦è‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã—ãŸ*`;
```

Issueã®ä½œæˆéƒ¨åˆ†
```typescript: issueWorkflow.ts
const issueResponse = await octokit.rest.issues.create({
  owner,
  repo,
  title: inputData.title,
  body: fullBody,
  labels: allLabels,
  assignees: [],
});
```


## GitHub Actionsã®Claude Codeè¨­å®š

GitHub Actionsã§Claude Codeã‚’è¨­å®šã™ã‚‹æ–¹æ³•ã¯å¤§ããåˆ†ã‘ã¦äºŒã¤ã‚ã‚Šã¾ã™ã€‚

ï¼‘ã¤ãŒã¾ãšãƒ­ãƒ¼ã‚«ãƒ«ã«Claude Codeã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‹ã‚‰`/install-github-app`ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’é–‹å§‹ã™ã‚‹æ–¹æ³•ã€‚
ã‚‚ã†ï¼‘ã¤ãŒGitHub Appã®Claudeã‚’ç”»é¢ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã€æ‰‹å‹•ã§API Keyã®ç™»éŒ²ã‚„ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ä½œæˆã‚’ã™ã‚‹æ–¹æ³•ã§ã™ã€‚

å‰è€…ã®å ´åˆã€ã¾ãšClaude CodeãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã‚‹ã®ãŒä»¥ä¸‹ã®OSã¨ãªã£ã¦ã„ã¾ã™ã€‚
- macOS 10.15+
- Ubuntu 20.04+/Debian 10+
- WSLçµŒç”±ã®Windows

ä»Šå›ç§ã¯Windowsã§ä½œæ¥­ã—ã¦ã„ã‚‹ã®ã§WSLçµŒç”±ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚‚ã„ã„ã®ã§ã™ãŒã€ãªã‚“ã¨ãªãã§å¾Œè€…ã®æ–¹æ³•ã§ã‚„ã£ã¦ã„ãã¾ã™ã€‚

### Claude GitHub Appã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

https://github.com/apps/claude
ã“ã¡ã‚‰ã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
AppãŒã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒªãƒã‚¸ãƒˆãƒªã‚’é¸æŠ
![](https://storage.googleapis.com/zenn-user-upload/7b71aef39c5c-20250608.png)


### Anthropic API Keyã®ç™»éŒ²
ã¾ãšAnthropicã®API Keyã‚’æ‰•ã„å‡ºã—ã¾ã™
https://console.anthropic.com/dashboard

å¯¾è±¡ã®ãƒªãƒã‚¸ãƒˆãƒªã®`Setting > Secrets and variables > Actions`ã‹ã‚‰æ‰•ã„ã ã—ãŸAPI Keyã‚’ç™»éŒ²
![](https://storage.googleapis.com/zenn-user-upload/b7869b257221-20250608.png)


### GitHub Actionsç”¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®ä½œæˆ
ä¸‹è¨˜ã®ãƒªãƒ³ã‚¯ã‹ã‚‰ã‚µãƒ³ãƒ—ãƒ«ã®ymlã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ã€ãƒªãƒã‚¸ãƒˆãƒªã®`.github/workflows/`ã«è¨­å®š
https://github.com/anthropics/claude-code-action/blob/main/examples/claude.yml

ãŸã ã—ä¸Šè¨˜ã¯ä¸ãˆã¦ã„ã‚‹permissionsãŒreadãªã®ã§ã€è¦ä»¶ã«å¿œã˜ã¦ç·¨é›†ã—ã¾ã™
ç§ã¯ä»Šå›ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã—ã¦ã„ã¾ã™
ï¼ˆã‚¿ã‚¹ã‚¯å®Œäº†å¾Œã«PRã‚’è‡ªå‹•ä½œæˆã§ããªã„ã‹ã¨è©¦è¡ŒéŒ¯èª¤ã—ã¦ã„ãŸåæ®‹ãŒã‚ã‚‹ã®ã§ã€é©å®œå¤‰ãˆã¦ãã ã•ã„ï¼‰
``` markdown: .github/workflows/claude.yml
name: Claude Assistant
on:
  issue_comment:
    types: [created]
  pull_request_review_comment:
    types: [created]
  issues:
    types: [opened, assigned]
  pull_request_review:
    types: [submitted]

jobs:
  claude-response:
    if: |
      (github.event_name == 'issue_comment' && contains(github.event.comment.body, '@claude')) ||
      (github.event_name == 'pull_request_review_comment' && contains(github.event.comment.body, '@claude')) ||
      (github.event_name == 'pull_request_review' && contains(github.event.review.body, '@claude')) ||
      (github.event_name == 'issues' && (contains(github.event.issue.body, '@claude') || contains(github.event.issue.title, '@claude')))
    runs-on: ubuntu-latest
    permissions:
      contents: write
      issues: write
      pull-requests: write
      id-token: write
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 1

      - name: Run Claude Code Action
        uses: anthropics/claude-code-action@beta
        with:
          anthropic_api_key: ${{ secrets.ANTHROPIC_API_KEY }}
          
          trigger_phrase: "@claude"
          timeout_minutes: "60"
```

Claude Codeã®è¨­å®šã¯ã“ã‚Œã ã‘ã§ã™ã€‚


## Vercelã®è¨­å®š

ä»Šå›Claude Codeã‚’ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«å…¥ã‚ŒãŸãƒªãƒã‚¸ãƒˆãƒªï¼ˆå€‹äººã®ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã‚µã‚¤ãƒˆï¼‰ã¯å…ƒã€…Vercelã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚ˆã†ã«è¨­å®šæ¸ˆã¿ã§ã™ã€‚
è¨­å®šè‡ªä½“ã¯ã“ã®è¾ºã‚ŠãŒå‚è€ƒã«ãªã‚Šã¾ã™ã€‚
https://typescriptbook.jp/tutorials/vercel-deploy

ã‚ã¨Vercelã®å…¬å¼
https://vercel.com/docs/git/vercel-for-github?utm_source=github

# å‹•ã‹ã—ã¦ã¿ã‚‹
ã§ã¯å‹•ã‹ã—ã¦ã¿ã¾ã™ï¼ˆã‚„ã‚‹ã“ã¨ã¯å†’é ­ã®å‹•ç”»ã¨åŒã˜ã§ã™ï¼‰

## ç¾çŠ¶ç¢ºèª
ç¾åœ¨ã®å€‹äººãƒãƒ¼ãƒˆãƒ•ã‚©ãƒªã‚ªã¯ä»¥ä¸‹ã®ã‚ˆã†ãªã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«åˆ†ã‹ã‚Œã¦ã„ã¾ã™ã€‚
ã“ã‚Œã«Productsã¨ã—ã¦å€‹äººã®æˆæœç‰©ã‚’ç´¹ä»‹ã™ã‚‹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½œã‚Šã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/1bb8f0509fb0-20250608.png)

## éŸ³å£°å…¥åŠ›ã§Issueä½œæˆ
ä»Šå›ä½œã£ãŸWebã‚¢ãƒ—ãƒªã§éŸ³å£°ã‚’å…¥åŠ›ã—ã€Issueä½œæˆãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¾ã™
![](https://storage.googleapis.com/zenn-user-upload/8fa7fe60f647-20250608.png)

## Issueã®ä½œæˆç¢ºèª
ã“ã‚“ãªæ„Ÿã˜ã§ã¡ã‚ƒã‚“ã¨ã—ãŸIssueãŒä½œæˆã•ã‚Œã¾ã—ãŸ
![](https://storage.googleapis.com/zenn-user-upload/0864d1afc412-20250608.png)

## Claude Codeã®å®Ÿè£…ç¢ºèª
ç„¡äº‹Claude CodeãŒå®Ÿè£…ã‚’å®Œäº†ã—ã¦ãã‚Œã¾ã—ãŸ
![](https://storage.googleapis.com/zenn-user-upload/d11bcb1abc64-20250608.png)

## PRä½œæˆã‹ã‚‰ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‡ãƒ—ãƒ­ã‚¤ã®ç¢ºèª
PRã‚’ä½œæˆã™ã‚‹ã¨VercelãŒãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã®URLã‚’ã‚³ãƒ¡ãƒ³ãƒˆã—ã¦ãã‚Œã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/2a8642ff03ee-20250608.png)

ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç’°å¢ƒã‚’è¦‹ã‚‹ã¨ã€ãƒ˜ãƒƒãƒ€ã«ProductsãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚
![](https://storage.googleapis.com/zenn-user-upload/95ab200bb916-20250608.png)

Productsã‚»ã‚¯ã‚·ãƒ§ãƒ³ã®ä¸­èº«ã‚‚ã¡ã‚ƒã‚“ã¨ä½œã‚‰ã‚Œã¦ã„ã¾ã™ã€‚
ï¼ˆVoice2Issueã§Whisper APIã¯ä½¿ã£ã¦ãªã„ã‘ã©ï¼‰
![](https://storage.googleapis.com/zenn-user-upload/2122c42d39d2-20250608.png)



# ãŠã—ã¾ã„
## ã¾ãšWebã‚¢ãƒ—ãƒªã«ã¤ã„ã¦ã®æ„Ÿæƒ³

ã“ã®è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ã‚‹é€”ä¸­ã§æ€ã„ã¾ã—ãŸãŒã€IssueæŠ•ã’ã‚‹å‰ã«ã©ã‚“ãªIssueä½œã‚ã†ã¨ã—ã¦ã‚‹ã‹è¡¨ç¤ºã—ãŸã»ã†ãŒã‚ˆã‹ã£ãŸã§ã™ã­ã€‚
æ€ã£ãŸã®ã¨é•ã†IssueãŒä½œæˆã•ã‚Œã¦ã€ã€Œã‚ã£â€¦å¾…ã£ã¦â€¦ãã†ã„ã†æ„å‘³ã˜ã‚ƒãªã„ã®â€¦ã€ã£ã¦ãªã£ã¦ã‚‹é–“ã«Claude CodeãŒå®Ÿè£…ã—ã¡ã‚ƒã£ãŸã‚Šã™ã‚‹ã®ã§ã€‚

ã¾ãŸã€ä»Šå›éŸ³å£°å…¥åŠ›ã¯Web Speech APIã‚’ä½¿ã„ã¾ã—ãŸãŒåˆ¶å¾¡ãŒã¡ã‚‡ã£ã¨é›£ã—ã‹ã£ãŸã®ã§ã€Mastraã®éŸ³å£°èªè­˜ã¨ã‹ã‚‚ä½¿ã£ã¦ã¿ãŸã„ã§ã™ã­ã€‚
ã‚ã¨Mastraã«é–¢ã—ã¦è¨€ã†ã¨ã€Workflowã¨ã‹ã¯ä½œã£ã¡ã‚ƒãˆã°æ„å¤–ã¨ã™ã£ãã‚Šã—ãŸå®Ÿè£…ã«ãªã‚‹ã‚“ã§ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’èª­ã¿è§£ãã®ãŒçµæ§‹å¤§å¤‰ã§ã—ãŸã€‚
ã‚„ã£ã±ã‚Šãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸¸ã”ã¨LLMã«æŠ•ã’ã¦å¿…è¦ãªã¨ã“ã‚ã ã‘èãã®ãŒæ¥½ã§ã™ã€‚


## Claude Code Actionã«ã¤ã„ã¦ã®æ„Ÿæƒ³

Claude Code Actionã¯ä¸€åº¦èµ°ã‚Šå§‹ã‚ã‚‹ã¨ã“ã¡ã‚‰ã‹ã‚‰ã®ä»‹å…¥ãŒã§ããªã„ã®ã§ã€
å®Ÿè£…ã®çµŒéã‚’è¦‹ãŸã‚Šã€é©å®œæŒ‡ç¤ºã‚’å‡ºã—ãŸã‚Šã€æ—¥å¸¸é£ã„ã‚’ã™ã‚‹ã«ã¯ã‚„ã£ã±ã‚Šã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚„ã‚¨ãƒ‡ã‚£ã‚¿ã§å‹•ã‹ã™Claude CodeãŒã„ã„ã§ã™ã­ã€‚
ãŸã ã€å‡ºå…ˆã‚„æ•£æ­©ä¸­ã‚„ãŠé¢¨å‘‚ã®ä¸­ã§æ€ã„ã¤ã„ãŸã‚¢ã‚¤ãƒ‡ã‚¢ã¨ã‹ã‚’ã¨ã‚Šã‚ãˆãšå®Ÿè£…ã•ã›ã¦ã¿ã‚‹ã€ã¨ã‹å˜ç™ºã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã™ã‚‹ã«ã¯Claude Code Actionã‚’ä½¿ã†ã®ã‚‚çµæ§‹ã„ã„ã‚“ã˜ã‚ƒãªã„ã‹ã¨æ€ã„ã¾ã™ã€‚
å¤šå°‘é›‘ãªå®Ÿè£…ã§ã‚‚å®Ÿéš›ã®ç”»é¢ã¨ã‹ã§å‹•ä½œç¢ºèªã—ãŸã‚Šã¨ã‹ã¯æ—©ãã—ãŸã„ã§ã™ã—ã­ã€‚


